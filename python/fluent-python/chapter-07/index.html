<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Chapter 07 | Dongseok Kim</title> <meta name="author" content="Dongseok Kim"> <meta name="description" content="Functions as First-Class Objects"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/atom-one-light.min.css" media="" id="highlight_theme_light"> <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/atom-one-dark.min.css" media="none" id="highlight_theme_dark"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://d0ngse0kkim.github.io/python/fluent-python/chapter-07/"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">{
      "title": "Chapter 07",
      "description": "Functions as First-Class Objects",
      "published": "February 3, 2024",
      "authors": [
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Dongseok </span>Kim</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">programming</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/python">Python</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/softwaredesign/">Software Design</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/tools/">Tools</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">hobbies</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/running">running</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">others</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/repositories">repositories</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/cv/">cv</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Chapter 07</h1> <p>Functions as First-Class Objects</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div><a href="#treating-a-function-like-an-object">Treating a Function Like an Object</a></div> <div><a href="#higher-order-functions">Higher-Order Functions</a></div> <div><a href="#anonymous-functions">Anonymous Functions</a></div> <div><a href="#the-nine-flavors-of-callable-objects">The Nine Flavors of Callable Objects</a></div> <div><a href="#user-defined-callable-types">User-Defined Callable Types</a></div> <div><a href="#from-positional-to-keyword-only-parameters">From Positional to Keyword-Only Parameters</a></div> <div><a href="#packages-for-functional-programming">Packages for Functional Programming</a></div> <div><a href="#links">Links</a></div> </nav> </d-contents> <h2 id="abstract">Abstract</h2> <p>This is summary of chapter 7 of <a href="https://www.oreilly.com/library/view/fluent-python-2nd/9781492056348/" rel="external nofollow noopener" target="_blank">Fluent Python</a>. Chapter 7 covers the topic of closures and decorators, two powerful features of the language that enable developers to write more efficient and flexible code. The chapter explores various examples and use cases for closures and decorators, providing readers with practical insights and best practices for incorporating these concepts into their own projects.</p> <h2 id="treating-a-function-like-an-object">Treating a Function Like an Object</h2> <ul> <li>Functions have <code>__doc__</code> attribute, which is a <a href="https://peps.python.org/pep-0257/" rel="external nofollow noopener" target="_blank">Docstring</a> of the function. <ul> <li>For consistency, always use <code>"""triple double quotes"""</code> around docstrings.</li> </ul> </li> <li> <code>help(func)</code> in python console session displays <code>__doc__</code> attribute of <code>func()</code>.</li> <li> <code>type(func)</code> displays <code>&lt;class 'function'&gt;</code> which means <code>func</code> is an instance of <code>function</code> class.</li> <li>Instances of <code>function</code> class such as <code>func</code> can be assigned to other variables.</li> <li>Instances of <code>function</code> class such as <code>func</code> can be assigned to arguments of other functions.</li> </ul> <h2 id="higher-order-functions">Higher-Order Functions</h2> <p>A function that takes a function as an argument or returns a function calls a <em>higher-order</em> function.</p> <p>For example, <code>def sorted(items: List[T], key: Optional[Callable[[T], any]]) -&gt; List[T]:</code> takes a function by second argument.</p> <h3 id="modern-replacements-for-map-filter-and-reduce">Modern Replacements for map, filter, and reduce</h3> <p><code>map</code> can be replaced with a list comprehension.</p> <pre><code class="language-python">&gt;&gt;&gt; list(map(factorial, range(6)))
[1, 1, 2, 6, 24, 120]
&gt;&gt;&gt; [factorial(n) for n in range(6)]
[1, 1, 2, 6, 24, 120]
</code></pre> <p><code>map</code> with <code>filter</code> can be replaced with a list comprehension with <code>if</code> statement.</p> <pre><code class="language-python">&gt;&gt;&gt; list(map(factorial, filter(lambda n: n % 2, range(6))))
[1, 6, 120]
&gt;&gt;&gt; [factorial(n) for n in range(6) if n % 2]
[1, 6, 120]
</code></pre> <p><code>reduce</code> with <code>add</code> can be replaced with a <code>sum</code> function.</p> <pre><code class="language-python">&gt;&gt;&gt; from functools import reduce
&gt;&gt;&gt; from operator import add
&gt;&gt;&gt; reduce(add, range(100))
4950
&gt;&gt;&gt; sum(range(100))
4950
</code></pre> <p><code>all(iterable)</code> returns <code>True</code> if there are no falsy elements in the <code>iterable</code>. <code>all([])</code> returns <code>True</code>.</p> <p><code>any(iterable)</code> returns <code>True</code> if any element of the <code>iterable</code> is truthy. <code>any([])</code> returns <code>False</code>.</p> <h2 id="anonymous-functions">Anonymous Functions</h2> <p><code>lambda &lt;argument&gt;, ...: &lt;expression of return value&gt;</code></p> <p>It is not recommended to use a <code>lambda</code> function if the <code>lambda</code> function is hard to read.</p> <h2 id="the-nine-flavors-of-callable-objects">The Nine Flavors of Callable Objects</h2> <dl> <dt><em>User-defined functions</em></dt> <dd>can be created using <code>def</code> statements or <code>lambda</code> expressions.</dd> <dt><em>Built-in functions</em></dt> <dd>are implemented in C (for CPython), such as <code>len</code> or <code>time.strftime</code>.</dd> <dt><em>Built-in methods</em></dt> <dd>are also implemented in C, such as <code>dict.get</code>.</dd> <dt><em>Methods</em></dt> <dd>are functions defined in the body of a class.</dd> <dt><em>Classes</em></dt> <dd>When invoked, a class runs its <code>__new__</code> method to create an instance, followed by <code>__init__</code> to initialize it. The instance initialized by <code>__init__</code> is returned to the caller. In Python, calling a class is similar to calling a function because there is no <code>new</code> operator.</dd> <dt><em>Class instances</em></dt> <dd>If a class has a <code>__call__</code> method, then its instances can be invoked as functions.</dd> <dt><em>Generator functions</em></dt> <dd>use the <code>yield</code> keyword in their body and return a generator object when called.</dd> <dt><em>Native coroutine functions</em></dt> <dd>are defined using <code>async def</code> and return a coroutine object. Added in Python 3.5.</dd> <dt><em>Asynchronous generator functions</em></dt> <dd>are defined using <code>async def</code> that have <code>yield</code> in their body. When called, they return an asynchronous generator for use with <code>async for</code>. Added in Python 3.6.</dd> </dl> <h2 id="user-defined-callable-types">User-Defined Callable Types</h2> <p>Objects can behave like functions by implementing a <code>__call__</code> instance method.</p> <pre><code class="language-python">class Multiplier:
    def __init__(self, factor):
        self.factor = factor

    def __call__(self, number):
        return self.factor * number
</code></pre> <p>Instances of class <code>Multiplier</code> behave like functions by using <code>()</code> statement.</p> <pre><code class="language-python">&gt;&gt;&gt; doubler = Multiplier(2)
&gt;&gt;&gt; tripler = Multiplier(3)
&gt;&gt;&gt; print(doubler(5))
10
&gt;&gt;&gt; print(tripler(5))
15
&gt;&gt;&gt; callable(tripler)
True
</code></pre> <h2 id="from-positional-to-keyword-only-parameters">From Positional to Keyword-Only Parameters</h2> <div class="embed-github-src" repo="fluentpython/example-code-2e" branch="23e78eeb82e04731fbb6063d1075d2f6400cc26c" path="07-1class-func/tagger.py" language="python" line="27-39"></div> <div class="embed-github-src" repo="fluentpython/example-code-2e" branch="23e78eeb82e04731fbb6063d1075d2f6400cc26c" path="07-1class-func/tagger.py" language="python" line="3-20"></div> <h3 id="specifying-keyword-argument"><em>Specifying Keyword Argument</em></h3> <p>When defining a function, keyword argument can be specified by using prefixed asterisk <code>*</code>. This feature added in Python 3.</p> <pre><code class="language-python">def f(a, *, b):     # b is keyword argument
    return a, b

f(1, b=2)           # OK
f(1, 2)             # NG TypeError occurs
</code></pre> <h3 id="positional-only-parameters">Positional-Only Parameters</h3> <p>When defining a function, positional-only parameter can be specified by using postfixed slash <code>/</code>. This feature added in Python 3.8.</p> <pre><code class="language-python">def divmod(a, b, /):
    return(a // b, a % b)
</code></pre> <h2 id="packages-for-functional-programming">Packages for Functional Programming</h2> <h3 id="the-operator-module">The operator Module</h3> <h4 id="simple-operation"><em>Simple Operation</em></h4> <pre><code class="language-python">from functools import reduce
def factorial(n):
    return reduce(lambda a, b: a*b, range(1, n+1))

from operator import mul        # multiplication defined in operator module
def factorial_with_operator(n):
    return reduce(mul, range(1, n+1))
</code></pre> <h4 id="retrive-items-with-operatoritemgetter"><em>Retrive items with operator.itemgetter</em></h4> <pre><code class="language-python">&gt;&gt;&gt; metro_data = [
...     ('Tokyo', 'JP', 36.933, (35.689722, 139.691667)),
...     ('Delhi NCR', 'IN', 21.935, (28.613889, 77.208889)),
...     ('Mexico City', 'MX', 20.142, (19.433333, -99.133333)),
...     ('New York-Newark', 'US', 20.104, (40.808611, -74.020386)),
...     ('São Paulo', 'BR', 19.649, (-23.547778, -46.635833)),
... ]
&gt;&gt;&gt;
&gt;&gt;&gt; from operator import itemgetter
&gt;&gt;&gt; for city in sorted(metro_data, key=itemgetter(1)):
...     print(city)
...
('São Paulo', 'BR', 19.649, (-23.547778, -46.635833))       # items are sorted by second item of each data
('Delhi NCR', 'IN', 21.935, (28.613889, 77.208889))
('Tokyo', 'JP', 36.933, (35.689722, 139.691667))
('Mexico City', 'MX', 20.142, (19.433333, -99.133333))
('New York-Newark', 'US', 20.104, (40.808611, -74.020386))

&gt;&gt;&gt; cc_name = itemgetter(1, 0)  # second and first item are get by using cc_name.
&gt;&gt;&gt; for city in metro_data:
...     print(cc_name(city))
...
('JP', 'Tokyo')
('IN', 'Delhi NCR')
('MX', 'Mexico City')
('US', 'New York-Newark')
('BR', 'São Paulo')
</code></pre> <p><code>operator.itemgetter</code> supports class that defines the <code>__getitem__</code> method, because <code>itemgetter</code> uses the <code>[]</code> operator internally.</p> <h4 id="retrive-attributes-with-operatorattrgetter"><em>Retrive attributes with operator.attrgetter</em></h4> <pre><code class="language-python">&gt;&gt;&gt; from collections import namedtuple
&gt;&gt;&gt; LatLon = namedtuple('LatLon', 'lat lon')
&gt;&gt;&gt; Metropolis = namedtuple('Metropolis', 'name cc pop coord')
&gt;&gt;&gt; metro_areas = [Metropolis(name, cc, pop, LatLon(lat, lon)) for name, cc, pop, (lat, lon) in metro_data]
&gt;&gt;&gt; metro_areas[0]
Metropolis(name='Tokyo', cc='JP', pop=36.933, coord=LatLon(lat=35.689722, lon=139.691667))
&gt;&gt;&gt; metro_areas[0].coord.lat
35.689722
&gt;&gt;&gt; from operator import attrgetter
&gt;&gt;&gt; name_lat = attrgetter('name', 'coord.lat')
&gt;&gt;&gt;
&gt;&gt;&gt; for city in sorted(metro_areas, key=attrgetter('coord.lat')):
...     print(name_lat(city))
...
('São Paulo', -23.547778)
('Mexico City', 19.433333)
('Delhi NCR', 28.613889)
('Tokyo', 35.689722)
('New York-Newark', 40.808611)
</code></pre> <h4 id="calling-a-instance-method-with-operatormethodcaller"><em>Calling a instance method with operator.methodcaller</em></h4> <p>Instance methods can be called by using <code>operator.methodcaller</code>.</p> <pre><code class="language-python">&gt;&gt;&gt; from operator import methodcaller
&gt;&gt;&gt; s = 'The time has come'
&gt;&gt;&gt; upcase = methodcaller('upper')
&gt;&gt;&gt; upcase(s)
'THE TIME HAS COME'
&gt;&gt;&gt; hyphenate = methodcaller('replace', ' ', '-')
&gt;&gt;&gt; hyphenate(s)
'The-time-has-come'
</code></pre> <h3 id="freezing-arguments-with-functoolspartial">Freezing Arguments with functools.partial</h3> <p>Arguments of a function can be reduced by using <code>functools.partial</code>.</p> <pre><code class="language-python">&gt;&gt;&gt; from operator import mul
&gt;&gt;&gt; from functools import partial
&gt;&gt;&gt; triple = partial(mul, 3)
&gt;&gt;&gt; triple(7)
21
&gt;&gt;&gt; list(map(triple, range(1, 10)))
[3, 6, 9, 12, 15, 18, 21, 24, 27]
</code></pre> <h2 id="links">Links</h2> <ul> <li><a href="https://docs.python.org/3/howto/functional.html" rel="external nofollow noopener" target="_blank">Functional Programming HOWTO</a></li> <li><a href="https://peps.python.org/pep-3102/" rel="external nofollow noopener" target="_blank">PEP 3102 - Keyword-Only Argument</a></li> <li><a href="https://stackoverflow.com/questions/3252228/python-why-is-functools-partial-necessary" rel="external nofollow noopener" target="_blank">Why is functools.partial necessary?</a></li> </ul> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Dongseok Kim. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js"></script> <script>hljs.highlightAll();</script> <script src="//cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js"></script> <script>hljs.initLineNumbersOnLoad();</script> <script>function append_code_block_header(e){if(!e.className)return;const[t,r]=get_language_and_url(e);r&&(replace_className(e,t),elemCodeBlockHeader=create_elem_code_block_header(r),append_elem_code_block_header_to_previous(e,elemCodeBlockHeader))}function get_language_and_url(e){return e.className.split(/:(.*)/s)}function replace_className(e,t){e.classList.remove(e.className),e.classList.add(t)}function create_elem_code_block_header(e){var t=document.createElement("a");return t.textContent=e,(e.startsWith("http://")||e.startsWith("https://"))&&(t.setAttribute("href",e),t.setAttribute("target","_blank")),t.className="language-plaintext",t}function append_elem_code_block_header_to_previous(e,t){var r=e.parentElement;r.insertBefore(t,r.firstChild),r.classList.add("code-block-header")}function embed_external_source(e){var t=get_url_raw(e),r=get_url_blob(e),n=e.getAttribute("language"),c=get_lines(e),l=c[0],a=c[1];fetch(t).then(function(e){return e.text()}).then(function(t){var c=create_elem_code_block(n,r,t,l,a),o=create_elem_pre_from_code_block(c),_={startFrom:Math.max(l,1)};e.appendChild(o),hljs.highlightBlock(c),hljs.lineNumbersBlock(c,_)})["catch"](function(e){throw e})}function embed_local_source(e){var t=get_url_raw_local(e),r=get_url_blob_local(e),n=e.getAttribute("language"),c=get_lines(e),l=c[0],a=c[1];fetch(t).then(function(e){return e.text()}).then(function(t){var c=create_elem_code_block(n,r,t,l,a),o=create_elem_pre_from_code_block(c);e.appendChild(o),hljs.highlightBlock(c),hljs.lineNumbersBlock(c)})["catch"](function(e){throw e})}function get_url_raw(e){return["https://raw.githubusercontent.com",e.getAttribute("repo"),e.getAttribute("branch"),e.getAttribute("path")].join("/")}function get_url_blob(e){return["https://github.com",e.getAttribute("repo"),"blob",e.getAttribute("branch"),e.getAttribute("path")+get_line_specifier(e)].join("/")}function get_url_raw_local(e){return e.getAttribute("path")}function get_url_blob_local(e){return get_url_raw_local(e)}function get_lines(e){const t=e.getAttribute("line");if(!t)return[0,0];var[r,n]=t.split(/-(.*)/s);return r=parseInt(r),n=parseInt(n),isNaN(r)&&(r=0),isNaN(n)&&(n=0),[r,n]}function get_line_specifier(e){const t=get_lines(e);return 0==t[0]&&0==t[1]?"":(0==t[1]&&t[1],"#L"+String(t[0])+"-L"+String(t[1]))}function create_elem_code_block(e,t,r,n,c){var l=document.createElement("code");return l.className="language-"+e+":"+t,l.textContent=slice_by_line_number(r,n,c),l}function slice_by_line_number(e,t,r){return 0==t&&0==r?e:(0==t&&(t=1),e.split("\n").slice(t-1,r).join("\n"))}function create_elem_pre_from_code_block(e){var t=document.createElement("pre");return t.appendChild(e),append_code_block_header(e),t}const code=document.getElementsByTagName("code");Array.from(code).forEach(append_code_block_header);var divs=document.getElementsByClassName("embed-github-src");Array.prototype.forEach.call(divs,embed_external_source);divs=document.getElementsByClassName("embed-local-src");Array.prototype.forEach.call(divs,embed_local_source);</script> </body> </html>